const n=Plyr.setup(".player",{controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay"]}),r=window.location.href,a=new URLSearchParams(window.location.search),o=Object.fromEntries(a.entries());let i=document.querySelectorAll("[cd-popup=trigger]");i.forEach(e=>{e.addEventListener("click",()=>{let t=e.querySelector(".video-popup-c");t.classList.add("active"),document.body.appendChild(t),o.name=t.querySelector(".player").getAttribute("id"),window.history.pushState({},"",r+"?name="+o.name),t.querySelector(".video-popup-close-btn").addEventListener("click",()=>{n.forEach(s=>{s.pause(),t.classList.remove("active"),e.appendChild(t),window.history.pushState({},"",r.split("?")[0])})})})});const l=document.querySelectorAll(".video-popup-c");l.forEach((e,t)=>{e.querySelector(".player"),d(e)});function d(e,t){const c=e.querySelector(".player").getAttribute("id");if(o.name==c)e.classList.add("active"),document.body.appendChild(e),e.querySelector(".video-popup-close-btn").addEventListener("click",()=>{n.forEach(p=>{p.pause(),e.classList.remove("active"),e.parentNode.appendChild(e),window.history.pushState({},"",r.split("?")[0])})});else return}
